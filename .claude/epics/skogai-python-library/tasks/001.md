---
name: Core Library Implementation
description: Implement the core executable runner with error handling, logging, and the main skogai module structure
status: backlog
created: 2025-09-08T19:41:12Z
epic: skogai-python-library
---

# Task: Core Library Implementation

## Objective
Create the foundation of the skogai Python library with the core executable runner functionality, following the "batteries included but minimal" approach.

## Scope
- Implement `skogai/executable.py` with the main executable runner logic
- Create `skogai/__init__.py` with clean public API exposure
- Implement `skogai/exceptions.py` with custom exception hierarchy
- Add basic logging functionality integrated with Python's standard logging

## Technical Requirements

### Core Files to Create
1. **`skogai/__init__.py`**
   - Export main public API: `from skogai import run_executable`
   - Version information and basic package metadata
   - Simple, single-import pattern for immediate value

2. **`skogai/executable.py`**
   - `run_executable()` function as the main entry point
   - Subprocess management with proper error handling
   - Support for common executable patterns (args, env vars, working directory)
   - Return structured result objects (exit code, stdout, stderr, timing)

3. **`skogai/exceptions.py`**
   - `SkogAIError` base exception class
   - `ExecutableNotFoundError` for missing binaries
   - `ExecutionError` for runtime failures
   - `ConfigurationError` for setup issues

### Implementation Details
- Use Python 3.8+ standard library only (subprocess, pathlib, logging, typing)
- Fail-fast design with clear error messages
- Type hints for all public APIs
- Proper subprocess handling with timeouts and cleanup

### API Design
```python
from skogai import run_executable

result = run_executable(
    executable="my-tool",
    args=["--input", "file.txt"],
    cwd="/path/to/work/dir",
    timeout=30
)
```

## Acceptance Criteria
- [ ] `run_executable()` successfully launches subprocess and captures output
- [ ] Proper error handling for missing executables and execution failures  
- [ ] Clean public API with single import pattern
- [ ] Type hints pass mypy strict mode validation
- [ ] All core exceptions properly defined and documented
- [ ] Basic logging integration with configurable levels
- [ ] Import time under 50ms (performance benchmark)

## Dependencies
- Python 3.8+ standard library
- No external dependencies for core functionality

## Estimated Effort
3-4 days of focused development